# himatsubushi-app

特急電車で他の乗客と会話するアプリ

使えそう
- https://developers.google.com/nearby/

参考
- https://qiita.com/hiroki-chi/items/5ee301697ac7da3e6903

## 用語
- 会話 Talk 1対1で行われる発言のやり取り、会話ごとにユニークなIDを持つ、発言がタイムラインで並ぶ
- 発言 Post 話者が会話に投稿した内容
- 話者 Talker 会話への参加者
- 会話箱 TalkBox 削除していない会話の集合
- マッチング Matching 会話を開始する準備を整えるために会話相手を探すこと
- 相手を見失う距離 TalkLostDistance 会話が可能な相手との距離、これ以上離れると会話は強制的に終了される
- 声が届かない距離 UntalkableDistance 相手との会話限界距離が近いことを示す距離、ここから相手を見失う距離の間では会話は一時的に中断される（相手と会話を続けるには元の場所に戻ってくださいなどの案内がある）
- 声の届く範囲 TalkableArea 会話相手との距離が声が届かない距離より内側の範囲、この範囲内で会話は行われる

## ユーザーストーリー
### 会話を始める
- 声の届く範囲で会話を開始しようとしている人を探すことができる
  - それができないとマッチングができないからだ
- 自分から会話をしたいと声の届く範囲のユーザーに発信することができる
  - それができないとマッチングができないからだ
- 周囲に会話をしたいと切り出す時は、ある程度定型文の中からの選択することができる
  - 自分から会話を切り出すのはなかなか難しい場合があるからだ
- 会話相手の募集は取り下げることができる
  - 気分が変わるからだ

### 会話する
 - 会話はよくわるメッセージングアプリのインターフェースで行われる
   - わかりやすいからだ

### 会話を終える
- 会話相手が声の届く範囲から出ると、注意メッセージが表示され、会話は一時中断される。
  - それ以上離れると会話を続けることができないということを知らせる必要があるため
- 中断になった場合、声の届く範囲に戻ると、会話は再開される
  - 突然会話が終了になるのを避けるため
- どちらかが会話の終わりを選択するか、相手を見失う距離になると会話は終了する。
  - 同じ場所にいる人同士の会話を想定しているため
  - もし途中で不快に思うことがあった場合、それ以上会話を続ける必要はないため
- 終わった会話はそれ以上続けることはできない
  - 相手にはこちらの声はもう届かないからだ

### 終わった会話見返す
- 会話は終わっても、削除するまでは端末内にログが残される
  - 終わった会話を残すかどうかを使う人にゆだねるため
- 終わった会話は削除できる
  - 見たくない場合もあるため